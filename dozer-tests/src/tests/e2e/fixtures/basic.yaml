app_name: dozer-users-ingest
version: 1
connections:
  - config: !Grpc
      schemas: !Inline |
        {
          "users": {
            "schema": {
              "fields": [
                {
                  "name": "id",
                  "typ": "Int",
                  "nullable": false
                },
                {
                  "name": "name",
                  "typ": "String",
                  "nullable": true
                }
              ]
            } 
          }
        }
    name: ingest

api:
  rest:
    enable_sql: false
  pgwire:
    enabled: false

sources:
  - name: users
    table_name: users
    connection: ingest

sinks:
  - table_name: users
    config: !Api
      path: /users
