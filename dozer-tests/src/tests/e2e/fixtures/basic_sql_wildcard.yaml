app_name: wildcard-test
connections:
  - config: !Grpc
      port: 8087
      schemas: !Inline |
        {
          "table1": {
            "schema": {
              "fields": [
                {
                  "name": "id",
                  "typ": "Int",
                  "nullable": false
                },
                {
                  "name": "age",
                  "typ": "Int",
                  "nullable": false
                }
              ]
            } 
          },
          "table2": {
            "schema": {
              "fields": [
                {
                  "name": "table1_id",
                  "typ": "Int",
                  "nullable": false
                },
                {
                  "name": "table1_age",
                  "typ": "Int",
                  "nullable": false
                }
              ]
            }
          }
        }
    name: two-tables

api:
  rest:
    port: 7508
  grpc:
    port: 7509
  app_grpc:
    port: 7510

sql: |
  SELECT 
    t2.* 
  INTO wildcard_res 
  FROM table1 
  LEFT JOIN table2 AS t2
    ON table1.id = table2.table1_id;

endpoints:
  - name: wildcard_res
    table_name: wildcard_res
    path: /wildcard_res
