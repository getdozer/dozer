syntax = "proto3";

package dozer.internal;

service InternalPipelineService {
  /// For every `LogRequest` sent, the server will reply one `LogResponse`.
  rpc GetLog(stream LogRequest) returns (stream LogResponse);
}

message LogRequest {
  /// The endpoint name.
  string endpoint = 1;
  /// [start, end) interval.
  uint64 start = 2;
  /// [start, end) interval.
  uint64 end = 3;
}

message LogResponse {
  /// This is the bincode serialzied `LogResponse` struct.
  ///
  /// It's a dirty way to make things work quickly. We'll properly define the protobuf message later.
  bytes data = 1;
}
